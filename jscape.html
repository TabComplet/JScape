<!DOCTYPE HTML>

<html lang=es>
    <head>
        <meta charset="utf-8">
        <title>JScape</title>
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/style.css">
        <script src="js/niveles.js"></script>
        <script src="js/funciones.js"></script>
    </head>
    <body>
        <div class="container">
            <h1>JScape</h1>
            <div style="min-height: 5em;">
                <div style="float:right">
                    <a class="button" onclick="explicacion()">Explicación</a>
                </div>
                <p>
                    Instrucciones: Para completar cada nivel es necesario ejecutar el código "alert(document.cookie)".
                </p>
            </div>
            <div id="explicacion">
            </div>
            <div class="window">
                <div class="window-header">
                    <span>Filtro</span>
                </div>
                <pre id="code" class="window-body">
                </pre>
            </div>
            <div class="rejilla">
                <div class="columna">
                    <h3>Campo manipulable</h3>
                    <textarea id="input" rows="7" onKeyUp="check()"></textarea>
                    <div>
                        <h3>Html</h3>
                        <pre id="html"></pre>
                        <h3>Log</h3>
                        <pre id="log"></pre>
                    </div>
                </div>
                <div class="columna">
                    <div class="browser">
                        <div class="browser-header">
                            <span>Web Page</span>
                        </div>
                        <div class="browser-body">
                            <iframe id="sandbox" src="about:blank" scrolling="no"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer>
        Diseñado por Fulapol, inspirado en alert(1) y prompt(1).
        </footer>
        <script>cargarNivel(0);sandbox = $('sandbox').contentWindow;</script>
        <div class="explicaciones">
            <div id="0">
                <h2>Bienvenido</h2>
                <p>El objetivo de este sistema es mostrar los vectores que se utilizan para generar un ataque tipo XSS. Al avanzar de nivel podrás utilizar el botón de ayuda para obtener información que te permita evadir los filtros. Si estás leyendo esto por curiosidad es buen momento para empezar con el primer reto. Si no tienes ni idea de que es lo que se debe hacer continúa leyendo esta guía, y si haz logrado superarlo nunca esta de mas repasar los conceptos básicos.</p>

                <h3>¿Qué es XSS?</h3>
                
                <p>El sicrónimo XSS significa Cross-Site Scripting (la X inicial se utiliza en lugar de la C para evitar confusión con las hojas de estilo CSS).
                Mediante este tipo de ataques se inyecta código en las páginas web vistas por los usuarios.
                Las posibles consecuencias van desde un simple Deface (modificación de la página) hasta el robo de credenciales administrativas.
                Al principio puede parecer inofensivo el hecho de inyectar código que genere alerts, sin embargo mediante Javascript se puede cargar un recurso externo (imagenes, páginas, audios) desde una URL formada maliciosamente de la forma www.sitiomaligno.net/ruta-maliciosa/script.ext?info_leak=document.cookie o cuyo contenido sirva para explotar otras vulnerabilidades como una película en Flash o, antes de que se eliminara el soporte, un applet en Java.</p>

                <h3>Referencias</h3>
                <a href="http://cwe.mitre.org/data/definitions/79.html">CWE-79: Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')</a>
            </div>
        </div>
    </body>
</html>
